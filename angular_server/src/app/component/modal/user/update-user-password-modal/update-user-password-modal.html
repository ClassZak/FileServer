<app-modal
	[isOpen]="isOpen"
	title="Изменить пароль пользователя"
	(onClose)="closeModal()"
>
	<form (ngSubmit)="submitForm()" class="update-password-form">
		<div class="form-group">
			<div>
				<label for="user.oldPassword">Старый пароль</label>
				<input
					id="user.oldPassword"
					name="oldPassword"
					type="password"
					[(ngModel)]="formData.oldPassword"
					(ngModelChange)="onInputChangeOldPassword($event)"
					placeholder="Старый пароль"
					[disabled]="submitting"
					required
				/>
			</div>
			<div>
				<label for="user.newPassword">Новый пароль</label>
				<input
					id="user.newPassword"
					name="newPassword"
					type="password"
					[(ngModel)]="formData.newPassword"
					(ngModelChange)="onInputChangeNewPassword($event)"
					placeholder="Новый пароль"
					[disabled]="submitting"
					required
				/>
			</div>
			<div>
				<label for="user.newPasswordConfirm">Подтверждение пароля</label>
				<input
					id="user.newPasswordConfirm"
					name="newPasswordConfirm"
					type="password"
					[(ngModel)]="formData.newPasswordConfirm"
					(ngModelChange)="onInputChangeNewPasswordConfirm($event)"
					placeholder="Подтверждение"
					[disabled]="submitting"
					required
				/>
			</div>
		</div>

		<div class="form-actions">
			<button
				type="button"
				(click)="closeModal()"
				[disabled]="submitting"
				class="cancel-button"
			>
				Отмена
			</button>
			<button
				type="submit"
				[disabled]="submitting"
				[class.submitting]="submitting"
				class="submit-button"
				data-dangerous="true"
			>
				@if (submitting) {
					<span class="spinner"></span>
					Изменение...
				} @else {
					Изменить
				}
			</button>
		</div>
	</form>
</app-modal>